<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <title>Document</title>
    <link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Shadows+Into+Light' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=EB+Garamond' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Bangers' rel='stylesheet' type='text/css'>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>

    <link rel="stylesheet" href="app.css">
    <style>
        body{ font-family: Georgia; }
    </style>
</head>
<body ng-controller="MainCtrl">

    <div class="mg-t-m mg-lr-a pd-lr-m">
        <div class="mg-lr-a">
            <h1 class="mg-t-0" style="font-family: 'EB Garamond', serif;">Prova a rimpicciolire la larghezza!</h1>
            <h2>H2 <small>- font-size: <span style="color: red">{{ x | number:2 }}px</span> | line-height: <span style="color: blue">{{ y | number:2}}px</span></small></h2>
            <h3>Prova testo h3</h3>
            <h4>Prova testo h4</h4>
            <h5>Prova testo h5</h5>


            <hr class="mg-t-l mg-b-0">
            <div class="pd-tb-l">
                <h2 class="mg-t-0" style="display: block; width: 100%; text-align:center">LEGGI QUI</h2>
                <p>
                    Viene settato dinamicamente il testo, il line-height ed il contenitore in base a delle formule della sezione aurea.
                </p>
                <p class="mg-b-0">
                    la grandezza della font si può regolare in base alla larghezza della viewport.
                    Adesso ho impostato che con una view di 280px (ed inferiore) la font è 12px,
                    se invece la vp supera i 2550px la font è 28px. Nei valori di vp intermedi (come il mio schermo), la font è calcolata dinamicamente, così il lineHeight e la larghezza del contenitore del testo.
                    Nel caso in cui il contenitore calcolato dinamicamente è più grande della viewport (in questo caso si dovrebbe diminuire la font [cosa che è possibile, ma questa che ti descrivo è un'opzione che ho fatto]) la font prende un minimo di grandezza (che in questo caso è 12px) e il contenitore si espande per tutta la larghezza dello schermo.
                </p>
            </div>
            <hr class="mg-b-l mg-t-0">

            <div>
                <p>
                    <b>Conteiner size: {{ w | number:2 }}px</b><br>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                </p>
                <p class="t-j">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                </p>
            </div>

            <div class="mg-t-l t-j fx-c fx-c-a-c fx-c-row">
                <div class="fx-i-tree pd-r-xs-2" style="font-family: 'Shadows Into Light', sans-serif;">
                    <div style="width: 100%; display:block; text-align:center">ESEMPIO Shadows Into Light</div>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                </div>
                <div class="fx-i-tree pd-lr-xs" style="font-family: 'Lobster', cursive;">
                    <div style="width: 100%; display:block; text-align:center">ESEMPIO LOBSTER</div>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                </div>
                <div class="fx-i-tree pd-l-xs-2" style="font-family: 'Bangers', cursive;">
                    <div style="width: 100%; display:block; text-align:center">ESEMPIO Bangers</div>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                </div>
            </div>
        </div>
    </div>

    <div class="pd-l w-100">
        <h1 style="text-align:center">TIPO 2</h1>
        <h2>H2 <small>- font-size: <span style="color: red">{{ x2 | number:2 }}px</span> | line-height: <span style="color: blue">{{ y2 | number:2}}px</span></small></h2>
        <div>
            <b>Conteiner size: {{ w2 | number:2 }}px</b>
            <p>
               <b>Data la larghezza del contenitore, verra calcolata automaticamente la grandezza del font e del lineHeight</b>
            </p>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
            <p class="t-j">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
        </div>

    </div>

    <script src="aaUtils.js"></script>
    <script src="../aaAurea/aaAurea.js"></script>
    <script>
        angular
            .module('app', ['aloengular.utils', 'aloengular.aurea'])
            .controller('MainCtrl', ['$scope', '$element', '$aa', '$aaAurea', function($scope, $element, $aa, $aaAurea){
                $scope.x = 0;
                $scope.y = 0;
                $scope.w = 0;

                // Golden Ratio

                window.onresize = setFont;

                setFont();

                function setFont(){
                    var r = $aaAurea.getFont($aa.proportion(14, 22, window.innerWidth, 280, 2550));

                    var r2 = $aaAurea.getFont(0, document.body.children[1].offsetWidth);

                    console.log(r,r2);
                    document.body.style.fontSize = r.fontSize + 'px';
                    document.body.style.lineHeight = r.lineHeight + 'px';
                    document.body.children[0].children[0].style.width = r.width < window.innerWidth ? r.width + 'px' : '100%';

                    document.body.children[1].style.fontSize = r2.fontSize + 'px';
                    document.body.children[1].style.lineHeight =  r2.lineHeight + 'px';


                    $scope.$applyAsync(function(){
                        $scope.x = r.fontSize;
                        $scope.y = r.lineHeight;
                        $scope.w = r.width;

                        $scope.x2 = r2.fontSize;
                        $scope.y2 = r2.lineHeight;
                        $scope.w2 = r2.width;
                    });
                };
            }]);
        ;
    </script>
</body>
</html>