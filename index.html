<!DOCTYPE html>
<html lang="en" ng-app="aloengular" ng-strict-di>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.1/angular.min.js"></script>
    <style>
        html, body{ height: 100%; }
        body{
            margin:0;
        }
        .b1{ background:green; }
        .b2{ background:red; }
    </style>
    <link rel="stylesheet" href="../AloePups/aloepups_example.css">
</head>
<body ng-controller="MainCtrl">

    <div class="b1 t-c" aa-r-size="[{ attr: ['height', 'lineHeight'], element:'body', size: 100}]">
        <div class="d-ib va-m w-100">
            <h1 class="mg-0">Ciao</h1>
            <h2 class="mg-0">hello</h2>
            <h3 class="mg-0">hi</h3>

            <p style="margin: 0 auto;" class="d-b mg-0 lh-in" id="tc">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Inventore, est excepturi obcaecati commodi, quos harum fugit delectus consectetur, facilis explicabo debitis eaque culpa dolore id. Atque deleniti ducimus magnam ea!
            </p>
        </div>

    </div>

    <script src="components/aaUtils/aaUtils.js"></script>
    <script src="components/aaMediaQuery/aaMediaQuery.js"></script>
    <script src="components/aaResponsiveSize/aaResponsiveSize.js"></script>
    <script src="components/aaAurea/aaAurea.js"></script>

    <script>
        angular
            .module('aloengular',
                ['aloengular.utils', 'aloengular.mediaQuery', 'aloengular.responsiveSize', 'aloengular.aurea'])
            .controller('MainCtrl', MainCtrl)
        ;

        function MainCtrl($scope, $aa, $aaAurea){

            var tc = document.getElementById('tc');

            window.addEventListener('resize', setFont);

            setFont();

            return;

            //////////////////////////////

            function setFont(){
                var f = $aaAurea.getFontSpecByFontSize($aa.proportion(12, 22, window.innerWidth, 320, 1440));

                if(f.width > window.innerWidth){
                    console.log(f);
                    f = $aaAurea.getFontSpecByWidth(window.innerWidth);
                    console.log(f);
                }

                document.body.style.fontSize = f.fontSize + 'px';
                document.body.style.lineHeight = f.lineHeight + 'px';
                tc.style.width = f.width + 'px';
            }
        }
        MainCtrl.$inject = ['$scope', '$aa', '$aaAurea'];
    </script>
</body>
</html>